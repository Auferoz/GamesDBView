---
import { postGameIGDB } from "../services/services";

const { title, igdbId } = Astro.props;
const arrayRes = await postGameIGDB({ igdbId });
const game = arrayRes[0];

---

{
    game.artworks && game.artworks.length > 0 && (
        <section class="flex flex-col gap-4 mt-4">
            <h3 class="text-2xl xl:text-4xl font-normal">Artworks</h3>
            <div class="grid grid-cols-1 xl:grid-cols-5 gap-4">
                {game.artworks.map((artworks: { image_id: string }) => (
                    <img
                        src={`https://images.igdb.com/igdb/image/upload/t_1080p/${artworks.image_id}.jpg`}
                        alt={artworks.image_id}
                        class="w-full h-full object-cover rounded-lg"
                    />
                ))}
            </div>
        </section>
    )
}

{
    game.screenshots && game.screenshots.length > 0 && (
        <section class="flex flex-col gap-4 mt-4">
            <h3 class="text-2xl xl:text-4xl font-normal">Screenshots</h3>
            <div class="grid grid-cols-1 xl:grid-cols-5 gap-4">
                {game.screenshots.map((screenshots: { image_id: string }) => (
                    <img
                        src={`https://images.igdb.com/igdb/image/upload/t_1080p/${screenshots.image_id}.jpg`}
                        alt={screenshots.image_id}
                        class="w-full h-full object-cover rounded-lg"
                    />
                ))}
            </div>
        </section>
    )
}
